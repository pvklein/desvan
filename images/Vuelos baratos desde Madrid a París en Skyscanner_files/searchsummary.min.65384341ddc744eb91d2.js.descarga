!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,i,o;r=n(1),i=window.Skyscanner||{},o=i.SearchSummaryOptions||{},new r(_.merge({el:"#js-search-summary-bar",toggleEl:"#js-search-controls-container"},o))},function(t,e,n){var r,i,o,s,a,u,l,c,h,d,p,f,m=function(t,e){return function(){return t.apply(e,arguments)}};s=n(2),r=n(4),c=(null!=(h=window.Skyscanner)&&null!=(d=h.Common)?d.observer:void 0)||{},f=n(5),u=n(6),p=n(9),i=n(10).default,a=window.Skyscanner||{},l=a.ComponentContext||{},o=function(){function t(t){var e,n,o,s,a,u;this.options=null!=t?t:{},this._showDateNudgers=m(this._showDateNudgers,this),this._hideDateNudgers=m(this._hideDateNudgers,this),this._closeSearchControls=m(this._closeSearchControls,this),this._openSearchControls=m(this._openSearchControls,this),this._toggleSearchControls=m(this._toggleSearchControls,this),this._navigate=m(this._navigate,this),this._onInboundDateChange=m(this._onInboundDateChange,this),this._onOutboundDateChange=m(this._onOutboundDateChange,this),this._overridePreferDirect=m(this._overridePreferDirect,this),this.$el=$(this.options.el||""),this.$toggleEl=$(this.options.toggleEl||""),this._lazyLoadSearchControls=_.once(this._lazyLoadSearchControls),this.model=new i,o=this._getOriginAndDestinationLegs(l),n=o[0],e=o[1],n.formattedDate=this._formatDate(n.date),e.formattedDate=this._formatDate(e.date),(a=this._isDayViewSearch(l))&&this.$el.addClass("date-nudgers").attr("has-date-nudgers",!0),s=this._shouldShowInboundDate(n.date,l.tripType),u=(l.adults||1)+(l.children||0)+(l.infants||0),this.$el.html(p({originLeg:n,destinationLeg:e,noOfLegs:(l.legs||[]).length,travellers:u,cabinClass:this._getCabinClass(l.cabinclass),isMultiDestination:this._isMultiDestination(l),shouldShowInboundDate:s,showDateNudgers:a,nudgerDates:this._getNudgerDates(l)})),c.subscribe("open-search-controls",this._openSearchControls),c.subscribe("close-search-controls",this._closeSearchControls),c.subscribe("hide-summary-bar",function(t){return function(){return t.$el.addClass("hide")}}(this)),c.subscribe("show-summary-bar",function(t){return function(){return t.$el.removeClass("hide")}}(this)),c.subscribe("hide-date-nudgers",this._hideDateNudgers),c.subscribe("show-date-nudgers",this._showDateNudgers),c.subscribe("flights-searchsummary-uncheck-direct",this._overridePreferDirect),this._showDatepickerEnabled()&&(this.$el.addClass("show-datepicker"),this.outboundDatepicker=new r(this._getDatepickerOptions({isOutbound:!0})),this.outboundDatepicker.getCalendar().selectDate(n.date,!0,!1),s&&(this.inboundDatepicker=new r(this._getDatepickerOptions({isOutbound:!1})),this.inboundDatepicker.getCalendar().selectDate(e.date,!0,!1))),this._initEvents(s)}return t.prototype._showDatepickerEnabled=function(){return!this._isMultiDestination(l)&&this._isDayViewSearch(l)},t.prototype._initEvents=function(t){if(this.$el.on("click",this._toggleSearchControls),this.$el.on("click",".search-summary-date-nudger.outbound button",function(t){return function(e){return e.stopPropagation(),t._onOutboundDateChange($(e.currentTarget).data("date"))}}(this)),this.$el.on("click",".search-summary-date-nudger.inbound button",function(t){return function(e){return e.stopPropagation(),t._onInboundDateChange($(e.currentTarget).data("date"))}}(this)),this._showDatepickerEnabled()&&(this.$el.on("click",".search-summary-date-nudger.outbound .date",function(t){return function(e){return e.stopPropagation(),t.inboundDatepicker&&t.inboundDatepicker.hide(),t.outboundDatepicker.show(),c.publish("tracking-event",{mixpanel:[{name:"Flight Search Summary Depart Datepicker Opened"}]})}}(this)),this.outboundDatepicker.on("select",this._onOutboundDateChange),t))return this.$el.on("click",".search-summary-date-nudger.inbound .date",function(t){return function(e){return e.stopPropagation(),t.outboundDatepicker.hide(),t.inboundDatepicker.show(),c.publish("tracking-event",{mixpanel:[{name:"Flight Search Summary Return Datepicker Opened"}]})}}(this)),this.inboundDatepicker.on("select",this._onInboundDateChange)},t.prototype._overridePreferDirect=function(){return this.model.set("ignore_prefer_direct",!0)},t.prototype._onOutboundDateChange=function(t){var e,n,r;return r=new s(t),e=new s(l.inboundDate||null),n=r.greaterThan(e)?r.dateString:e.dateString,this._triggerDateChangeMixpanelEvent(),this._navigate({outboundDate:t,inboundDate:n})},t.prototype._onInboundDateChange=function(t){var e,n,r;return n=new s(l.outboundDate),e=new s(t),r=e.lessThan(n)?e.dateString:n.dateString,this._triggerDateChangeMixpanelEvent(),this._navigate({outboundDate:r,inboundDate:t})},t.prototype._triggerDateChangeMixpanelEvent=function(){return c.publish("tracking-event",{mixpanel:[{name:"Flight Search Summary Date Changed"}]})},t.prototype._navigate=function(t){return null==t&&(t={}),setTimeout(function(e){return function(){var n;return n=_.merge({},l,t),e.model.get("ignore_prefer_direct")&&(n.preferDirects=!1),c.publish("flights-navigate",n)}}(this),200)},t.prototype._getOriginAndDestinationLegs=function(t){var e,n,r;return null==t&&(t={}),r=t.legs||[],e=r[0],n=r[r.length-1],this._isMultiDestination(t)?[this._getOriginLeg(e),this._getDestinationLeg(n)]:[this._getOriginLeg(t),this._getDestinationLeg(t)]},t.prototype._getOriginLeg=function(t){return null==t&&(t={}),{code:t.originIataCode,name:this._isPlacePropertyPresent(t.originCityName)?t.originCityName:t.originName,region:"US"===(t.originCountry||t.originCountryId)&&this._isPlacePropertyPresent(t.originRegionId)?t.originRegionId:"",date:t.outboundDate||t.date,isCityLevel:"city"===(t.originType||"").toLowerCase()}},t.prototype._getDestinationLeg=function(t){return null==t&&(t={}),{code:this._isPlacePropertyPresent(t.destinationIataCode)?t.destinationIataCode:null,name:this._isPlacePropertyPresent(t.destinationCityName)?t.destinationCityName:t.destinationName,region:"US"===(t.destinationCountry||t.destinationCountryId)&&this._isPlacePropertyPresent(t.destinationRegionId)?t.destinationRegionId:"",date:t.inboundDate||t.date,isCityLevel:"city"===(t.destinationType||"").toLowerCase()}},t.prototype._isPlacePropertyPresent=function(t){return _.isString(t)&&t&&"unknown"!==t.toLowerCase()},t.prototype._isMultiDestination=function(t){return null==t&&(t={}),"multi-destination"===t.tripType},t.prototype._isDayViewSearch=function(t){var e,n,r;return null==t&&(t={}),!this._isMultiDestination(t)&&(e=10===(t.outboundDate||"").length,r=(t.originId||"").length>2,n=(t.destinationId||"").length>2,e&&r&&n)},t.prototype._shouldShowInboundDate=function(t,e){return"one-way"!==e&&"year"!==new s(t).dateType},t.prototype._formatDate=function(t){var e,n;switch(null==t&&(t=""),t.length){case 10:return"function"==typeof(e=this.options).dateFormatter?e.dateFormatter(new s(t).dateObj,"monthDayAbbr"):void 0;case 7:return"function"==typeof(n=this.options).dateFormatter?n.dateFormatter(new s(t).dateObj,"yearMonth"):void 0;default:return f("ktxtSearchControls_CheapestMonth")}},t.prototype._getCabinClass=function(t){switch((t||"").toLowerCase()){case"premiumeconomy":return f("ktxtSearchControls_CabinClassTerm_PremiumEconomy");case"business":return f("ktxtSearchControls_CabinClassTerm_Business");case"first":return f("ktxtSearchControls_CabinClassTerm_First");default:return f("ktxtSearchControls_CabinClassTerm_Economy")}},t.prototype._getNudgerDates=function(t){var e,n,r,i,o,a;return null==t&&(t={}),this._isDayViewSearch(t)?(i=new s(t.outboundDate||null),e=new s(t.inboundDate||null),a=i.decrement(),o=i.increment(),r=e.decrement(),n=e.increment(),a.isInThePast()&&(a=null),o.isTooFarInTheFuture()&&(o=null),r.isInThePast()&&(r=null),n.isTooFarInTheFuture()&&(n=null),{outboundPrev:a?a.dateString||null:void 0,outboundNext:o?o.dateString||null:void 0,inboundPrev:r?r.dateString||null:void 0,inboundNext:n?n.dateString||null:void 0}):null},t.prototype._toggleSearchControls=function(){return this.$el.toggleClass("open"),this.$toggleEl.toggleClass("hide"),this._lazyLoadSearchControls()},t.prototype._openSearchControls=function(){return this.$el.addClass("open"),this.$toggleEl.removeClass("hide"),this._lazyLoadSearchControls()},t.prototype._closeSearchControls=function(){return this.$el.removeClass("open"),this.$toggleEl.addClass("hide")},t.prototype._hideDateNudgers=function(){return this.$el.removeClass("date-nudgers").find(".search-summary-date-nudgers").addClass("hide")},t.prototype._showDateNudgers=function(){if("true"===this.$el.attr("has-date-nudgers"))return this.$el.addClass("date-nudgers").find(".search-summary-date-nudgers").removeClass("hide")},t.prototype._lazyLoadSearchControls=function(){var t,e;if((e=this.options.searchControlsTranslationsUrl)&&(t=this.options.searchControlsScriptUrl))return u.injectScript({src:e},function(e){return function(){return u.injectScript({src:t,anonymous:!0},e._triggerMixpanelEvent)}}(this))},t.prototype._triggerMixpanelEvent=function(){return c.publish("tracking-event",{mixpanel:[{name:"Flight Search Summary Expanded"}]})},t.prototype._getDatepickerOptions=function(t){var e;return null==t&&(t={}),e=this.$el.find(".search-summary-date-nudger."+(t.isOutbound?"outbound":"inbound")+" .date"),{element:e.get(0),minDate:(new s).dateString,maxDate:(new s).increment(s.UNITS.year).dateString,firstDay:this.options.firstDay,months:this.options.months,weekdays:this.options.weekdays,weekdaysShort:this.options.weekdaysShort,dateFormatter:this.options.dateFormatter,market:l.market,currency:l.currency,locale:l.locale,culture:this._getDatepickerCulture(t),enableFlexibleOptions:!1}},t.prototype._getDatepickerCulture=function(t){var e,n,r,i,o,s;return null==t&&(t={}),i=t.isOutbound,r=f("ktxtSearchControls_filter_depart"),s=f("ktxtSearchControls_filter_return"),n=f("ktxtSearchControls_DepartureDate"),o=f("ktxtSearchControls_ReturnDate"),e={},e.title=i?r:s,e.header_label=i?n:o,e.cancel=f("ktxtSearchControls_BtnCancel"),e},t}(),t.exports=o},function(t,e,n){var r,i;(function(t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,a){"object"===o(e)&&"object"===o(t)?t.exports=a():(r=a,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){var n,r,i,o,s,a,u,l,c,h,d,p,_,f,m,g,y={}.hasOwnProperty;n={day:"day",month:"month",year:"year",unknown:"unknown"},d={},d[""+n.day]=1,d[""+n.month]=2,d[""+n.year]=3,o=d,p={},p[""+n.day]=/^(\d{4})-(\d{2})-(\d{2})$/,p[""+n.month]=/^(\d{4})-(\d{2})$/,p[""+n.year]=/^(\d{4})$/,i=p,_={},_[""+n.day]="Date",_[""+n.month]="Month",_[""+n.year]="FullYear",a=_,c=function(t,e){var n,r;for(n in t)if(y.call(t,n)&&(r=t[n],r===e))return n},u=function(t,e){var n,r,o,s,a,u;return(a=i[e])&&(o=t.match(a))?(r=o[0],u=o[1],s=o[2],n=o[3],new Date(parseInt(u,10),parseInt(s||1,10)-1,parseInt(n||1,10))):null},m=function(t,e){var r,i,o,s;switch(o=t.match(/.{1,2}/g),s=o[0],i=o[1],r=o[2],s="20"+s,e){case n.day:return s+"-"+i+"-"+r;case n.month:return s+"-"+i;case n.year:return s;default:return null}},r=function(t,e){var r,i,o,s;switch(o=t.split("-"),s=o[0],i=o[1],r=o[2],s=s.substring(2),e){case n.day:return""+s+i+r;case n.month:return""+s+i;case n.year:return s;default:return null}},f=function(t){return t<10?"0"+t:""+t},l=function(t,e){var r,i,o;if(!t)return null;switch(o=""+t.getFullYear(),i=f(t.getMonth()+1),r=f(t.getDate()),e){case n.day:return o+"-"+i+"-"+r;case n.month:return o+"-"+i;case n.year:return o;default:return null}},g=function(t,e,r,i){var u,h,d,p;return null==r&&(r=1),null==i&&(i=a[n.day]),u="get"+i,d="set"+i,h=new Date(t),p=o[c(a,i)]>=o[e],h[u]&&h[d]&&p&&h[d](t[u]()+r),new s(l(h,e))},h=function(t,e){var o,s,a,c,h;null==t&&(t=l(new Date,n.day)),null==e&&(e=n.day),"[object Date]"===Object.prototype.toString.call(t)&&(t=l(t,e));for(a in i)if(c=i[a],c.test(t))return h=r(t,a),s=u(t,a),[a,t,h,s];return/^wholeyear$/i.test(t)?(o=""+(new Date).getFullYear(),h=r(o,n.year),s=u(o,n.year),[n.year,""+o,""+h,s]):[n.unknown,"","",null]},s=function(){function t(t,e){var n;n=h(t,e),this.dateType=n[0],this.dateString=n[1],this.shortDateString=n[2],this.dateObj=n[3]}return t.prototype.increment=function(t){return null==t&&(t=a[this.dateType]),g(this.dateObj,this.dateType,1,t)},t.prototype.decrement=function(t){return null==t&&(t=a[this.dateType]),g(this.dateObj,this.dateType,-1,t)},t.prototype.greaterThan=function(e){var n;return e instanceof t&&(n=Math.min(this.dateString.length,e.dateString.length),this.dateString.substring(0,n)>e.dateString.substring(0,n))},t.prototype.lessThan=function(e){var n;return e instanceof t&&(n=Math.min(this.dateString.length,e.dateString.length),this.dateString.substring(0,n)<e.dateString.substring(0,n))},t.prototype.isInThePast=function(){return this.lessThan(new t)},t.prototype.isTooFarInTheFuture=function(){var e;return e=new Date,e.setFullYear((new Date).getFullYear()+1),this.greaterThan(new t(l(e,this.dateType)))},t}(),s.DATE_TYPES=n,s.UNITS=a,t.exports=s}])})}).call(e,n(3)(t))},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var r,i,o;(function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,a){"object"===n(e)&&"object"===n(t)?t.exports=a():(i=[],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o)))}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,i,o,s,a=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty;r=n(1),o=n(3),s='<div class="datepicker-overflow-wrapper">\n    <% if (enableFlexibleOptions) { %>\n        <div class="flexible-tabs-container">\n            <label id="js-specific-date"><input type="radio" name="triptype" class="datepicker_hidden"><%= specific_date %></label>\n            <label id="js-flexible"><input type="radio" name="triptype" class="datepicker_hidden"><%= whole_month %></label>\n        </div>\n    <% } %>\n    <div class="datepicker-inner">\n        <div class="calendar"></div>\n        <section class="datepicker-hook-after-calendar"></section>\n    </div>\n</div>',t.exports=i=function(){function t(t){this._showTabsAtBottom=a(this._showTabsAtBottom,this),this._showFullScreen=a(this._showFullScreen,this),this.applyCellClasses=a(this.applyCellClasses,this);var e,n,i,s,l,c,h,d,p,_;this._showed=!1,this._options={element:(null!=t?t.element:void 0)||function(){throw"Element is required!"}(),offsetTop:0,offsetLeft:0,autoHide:!1,container:null,customClass:null,enableFlexibleOptions:!1},i={};for(s in t)u.call(t,s)&&(l=t[s],"firstDay"!==s&&"minDate"!==s&&"maxDate"!==s&&"selectedDate"!==s&&"currentMonth"!==s&&"culture"!==s&&"compare_months"!==s&&"cheapest_month"!==s&&"enableFlexibleOptions"!==s&&"dateFormatter"!==s&&"months"!==s&&"weekdays"!==s&&"weekdaysShort"!==s||(i[s]=l));i.showTabsAtBottom=this._showTabsAtBottom,h=this._options;for(c in h)u.call(h,c)&&(_=h[c],(n=null!=t?t[c]:void 0)&&(this._options[c]=n));this._culture={close:"xClose",cancel:"xCancel",header_label:"xDate",specific_date:"xSpecific date",whole_month:"xWhole month",cheapest_month:"xFind Cheapest Month",compare_dates:"xCompare dates"},d=this._culture;for(c in d)u.call(d,c)&&(_=d[c],(e=null!=t&&null!=(p=t.culture)?p[c]:void 0)&&(this._culture[c]=e));this._$$=r.dom,this._dd=r.date,this._mediator=new r.Mediator,this._initDatepickerElement(),this.popover=new o({relativeEl:this._options.element,innerContent:this._datepicker.innerHTML,customClass:"skyscanner-datepicker "+(this._options.customClass||""),strings:{titleText:this._culture.header_label,hideText:this._culture.cancel},autoHide:!0,autoFocus:!0}),this._datepicker=this.popover.el,this._calendarEl=this._findByClassName(this._datepicker,"calendar","div"),this._flexCalendarEl=this._findByClassName(this._datepicker,"flexible-calendar","div"),this._initCalendar(i),this._initEvents(),this._calendar.render()}return t.button={WHOLE_MONTH:"btn_whole_month",CHEAPEST_MONTH:"btn_cheapest_month"},t.prototype._findByClassName=function(t,e,n){var r;return function(){var i,o,s,a;for(s=t.getElementsByTagName(n),a=[],i=0,o=s.length;i<o;i++)r=s[i],this._$$.hasClass(r,e)&&a.push(r);return a}.call(this)[0]},t.prototype._initDatepickerElement=function(){var t,e,n;return n={close:this._culture.close,cancel:this._culture.cancel,header_label:this._culture.header_label,specific_date:this._culture.specific_date,whole_month:this._culture.whole_month,enableFlexibleOptions:!!this._options.enableFlexibleOptions},t=this._options.container||document.createElement("div"),e=r.template(s),t.innerHTML=e(n),this._$$.addClass(t,"skyscanner-datepicker"),this._$$.addClass(t,"datepicker_hidden"),this._datepicker=t},t.prototype._initCalendar=function(e){return this._$$.addClass(this._calendarEl,"dp"),e.container=this._calendarEl,this._calendar=new r(e),this._calendar.on("select",function(t){return function(e){return t._selectDate(e,"calendar")}}(this)),this._calendar.on("whole-month-click",function(e){return function(){return e._mediator.publish(t.button.WHOLE_MONTH)}}(this)),this._calendar.on("cheapest-month-click",function(e){return function(){return e._mediator.publish(t.button.CHEAPEST_MONTH)}}(this)),this._calendar.on("next-prev",function(t){return function(e){return t._mediator.publish("next-prev",e)}}(this)),this._calendar.on("select-directs-available",function(t){return function(){return t._mediator.publish("select-directs-available")}}(this)),this._calendar.on("select-no-directs",function(t){return function(){return t._mediator.publish("select-no-directs")}}(this))},t.prototype._selectDate=function(t,e,n){if(null==n&&(n=!1),this._mediator.publish("select",t,e),this._options.autoHide&&this.hide(),n)return this._calendar.selectDate(t,!0,!1)},t.prototype._initEvents=function(){return this._$$.bindEvent(this._options.element,"click",function(t){return function(e){return t.show()}}(this)),this._$$.bindEvent(this._datepicker,"click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t._calendar._toggleMonths(!1)}}(this)),this._$$.delegateEvent(this._datepicker,"click","#js-specific-date",function(t){return function(e){return $(t._datepicker).removeClass("flexible-view"),t._calendar.renderSpecificView()}}(this)),this._$$.delegateEvent(this._datepicker,"click","#js-flexible",function(t){return function(e){return $(t._datepicker).addClass("flexible-view"),t._calendar.renderFlexibleView()}}(this)),this._$$.delegateEvent(this._datepicker,"click",".whole-month",function(e){return function(n){return e._calendar.selectDate(e._calendar._options.currentMonth),e._mediator.publish(t.button.WHOLE_MONTH),n.preventDefault()}}(this)),this._$$.delegateEvent(this._datepicker,"click",".cheapest-month",function(e){return function(n){return e._calendar.selectDate(""+(new Date).getFullYear()),e._mediator.publish(t.button.CHEAPEST_MONTH),n.preventDefault()}}(this))},t.prototype._append=function(){return document.body.appendChild(this._datepicker),this._appended=!0},t.prototype.on=function(t,e){return this._mediator.subscribe(t,e),this},t.prototype.show=function(){var t;return this._$$.removeClass(this._datepicker,"datepicker_hidden"),(null!=(t=this._calendar._options.selectedDate)?t.length:void 0)<=7?$(this._datepicker).addClass("flexible-view"):$(this._datepicker).removeClass("flexible-view"),this._calendar.selectDate(this._calendar._options.selectedDate,!0,!1),this.popover.show(),this},t.prototype.hide=function(){return this._$$.addClass(this._datepicker,"datepicker_hidden"),this.popover.hide(),this},t.prototype.setCulture=function(t){var e,n,r,i;r=this._culture;for(n in r)u.call(r,n)&&(i=r[n],(e=null!=t?t[n]:void 0)&&(this._culture[n]=e));return this._calendar.setCulture(t),this},t.prototype.getCalendar=function(){return this._calendar},t.prototype.applyCellClasses=function(t){return this._calendar.applyCellClasses(t)},t.prototype._showFullScreen=function(){return $(window).outerWidth()<=500},t.prototype._showTabsAtBottom=function(){return!this._showFullScreen()},t}()},function(t,e,n){var r,i,o,s,a,u,l,c=function(t,e){return function(){return t.apply(e,arguments)}},h=[].slice,d={}.hasOwnProperty,p=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};l='<% var index = 1; for (var _i = 0, _len1 = 6; _i < _len1; _i++) { %>\n   <tr>\n       <% for (var _j = 0, _len2 = 7; _j < _len2; _j++) { var item = days[\'day_\' + index]; index++; %>\n           <td data-id="<%= item.data %>" class="day <%= item.className %>">\n               <a href="#" title="<%= item.title %>"><%= item.label %></a>\n           </td>\n       <% } %>\n   </tr>\n<% } %>',o='<div class="calendar-info-bar datepicker_clearfix">\n    <button class="prev <% if(!prevActive) { %>disable<% } %>"></button>\n    <span class="current"><%= current %></span>\n    <button class="next <% if(!nextActive) { %>disable<% } %>"></button>\n</div>\n<table class="fullscreen-calendar-header">\n  <thead>\n      <tr>\n          <% for (var _i = 0, _len = weekdays.length; _i < _len; _i++) { var item = weekdays[_i]; %>\n              <td class="<%= item.className %>">\n                  <span title="<%= item.label %>"><%= item.labelMicro %></span>\n              </td>\n          <% } %>\n      </tr>\n  </thead>\n</table>\n</div>',s='<section class="flexi-calendar">\n  <h3><%= compare_months %></h3>\n  <button data-id="<%= new Date().getFullYear() %>" class="cheapest_month <% if(cheapestMonthSelected) { %>selected<% } %>"><%= cheapest_month %></button>\n  <table>\n    <% for (var _i = 0, _len = months.length; _i < _len; _i=_i+2) { var item = months[_i]; var item2 = months[_i+1];%>\n      <tr>\n        <td data-id="<%= item.id %>" <% if(current === item.id) { %> class="selected" <% } %>><%= item.month %><span><%=item.year%></span></td>\n        <% if(item2) { %>\n            <td data-id="<%= item2.id %>" <% if(current === item2.id) { %> class="selected" <% } %>><%= item2.month %><span><%=item2.year%></span></td>\n        <% } else { %><td class="future"/> <% } %>\n      </tr>\n    <% } %>\n  </table>\n</section>',u='<table class="<%= monthId %>" data-month="<%= monthId %>"><tbody><%= tbody %></tbody></table>',a='<section class="specific-calendar">\n    <%= header %>\n    <div class="container-body">\n        <%= body %>\n    </div>\n</section>',i=n(2),t.exports=r=function(){function t(e){this.applyCellClasses=c(this.applyCellClasses,this);var n,r,i,o,a,u,h;this._$$=t.dom,this._dd=t.date,this._options={container:(null!=e?e.container:void 0)||function(){throw"Container is required!"}(),dateFormatter:function(){return null},months:[],weekdays:[],weekdaysShort:[],firstDay:1,minDate:null,maxDate:null,selectedDate:null,currentMonth:null,showFullScreen:function(){return!1},enableFlexibleOptions:!1},this.$container=$(e.container),i=this._options;for(r in i)d.call(i,r)&&(h=i[r],this._isUndefined(e[r])||(this._options[r]=e[r]));this._options.currentMonth||(this._options.currentMonth=this._defaultCurrentMonth()),this.localisation=("undefined"!=typeof Skyscanner&&null!==Skyscanner&&null!=(o=Skyscanner.Api)?o.localisation:void 0)||{},this._culture={prevMonth:"xPrevious",nextMonth:"xNext",months:this._options.months,weekdays:this._options.weekdays,weekdaysShort:this._options.weekdaysShort,compare_months:"xCompare across a whole month",cheapest_month:"xFind Cheapest Month",formatYearMonth:function(t){return function(e){return t._options.dateFormatter(e,"yearMonth")}}(this),formatYear:function(t){return function(t){return t.getFullYear()}}(this),formatMonthYear:function(t){return function(e){return t._options.dateFormatter(e,"yearMonth")}}(this),formatMonth:function(t){return function(e){return t._culture.months[e.getMonth()]}}(this),formatDay:function(t){return function(e){return t._options.dateFormatter(e,"full")}}(this)},a=this._culture;for(r in a)d.call(a,r)&&(h=a[r],(n=null!=e&&null!=(u=e.culture)?u[r]:void 0)&&(this._culture[r]=n));this._mediator=new t.Mediator,this._flexiCalTmpl=t.template(s),this._tbodyTmpl=t.template(l),this.cellClasses={},this._initEvents()}return t.template=function(t){return Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")},t.Mediator=function(){function t(){this.channels={}}return t.prototype.subscribe=function(t,e){return null==this.channels[t]&&(this.channels[t]=[]),this.channels[t].push({context:this,callback:e})},t.prototype.unsubscribe=function(t,e){var n,r,i,o,s,a;for(o=this.channels[t]||[],s=[],n=r=0,i=o.length;r<i;n=++r)a=o[n],a.callback===e?s.push(this.channels[t].splice(n,1)):s.push(void 0);return s},t.prototype.publish=function(){var t,e,n,r,i,o,s;for(r=arguments[0],t=2<=arguments.length?h.call(arguments,1):[],i=this.channels[r]||[],o=[],e=0,n=i.length;e<n;e++)s=i[e],o.push(s.callback.apply(s.context,t));return o},t}(),t.dom=("undefined"!=typeof Skyscanner&&null!==Skyscanner?Skyscanner.dom_wrapper:void 0)||function(){return{hasClass:function(t,e){return $(t).hasClass(e)},removeClass:function(t,e){return $(t).removeClass(e)},addClass:function(t,e){return $(t).addClass(e)},getAttr:function(t,e){return $(t).attr(e)},setAttr:function(t,e,n){return $(t).attr(e,n)},removeAttr:function(t,e){return $(t).removeAttr(e)},getVal:function(t){return $(t).val()},setCss:function(t,e,n){return $(t).css(e,n)},getPosition:function(t){return $(t).position()},getOffset:function(t){return $(t).offset()},getHeight:function(t){return $(t).height()},getWidth:function(t){return $(t).width()},getScrollTop:function(t){return $(t).scrollTop()},setScrollTop:function(t,e){return $(t).scrollTop(e)},delegateEvent:function(t,e,n,r){return $(t).on(e,n,r)},bindEvent:function(t,e,n){return $(t).on(e,n)}}}(),t.date={makeDateFromString:function(t){return new i(t).dateObj},makeStringFromDate:function(t){return new i(t).dateString},daysInMonth:function(e){var n,r,i,o;return i=t.date.makeStringFromDate(e).split("-"),o=i[0],r=i[1],n=i[2],new Date(o,r,0).getDate()},diff:function(t,e,n){var r;switch(t){case"month":return e.getMonth()-n.getMonth()+12*(e.getFullYear()-n.getFullYear());case"day":return r=Math.abs(e.getTime()-n.getTime()),Math.ceil(r/864e5);default:throw"diff: unknown type"}},add:function(t,e,n){switch(t){case"month":e.setMonth(e.getMonth()+n);break;case"day":e.setDate(e.getDate()+n);break;default:throw"add: unknown type"}return e},subtract:function(t,e,n){switch(t){case"month":e.setMonth(e.getMonth()-n);break;case"day":e.setDate(e.getDate()-n);break;default:throw"subtract: unknown type"}return e}},t.prototype._isUndefined=function(t){return void 0===t},t.prototype._defaultCurrentMonth=function(){var t,e,n;return this._options.selectedDate&&this._options.selectedDate.length>4?this._options.selectedDate.slice(0,7):(n=new Date,e=this._options.minDate?this._dd.makeDateFromString(this._options.minDate):null,t=this._options.maxDate?this._dd.makeDateFromString(this._options.maxDate):null,t&&!e?this._dd.makeStringFromDate(n<=t?n:t).slice(0,7):e&&!t?this._dd.makeStringFromDate(n>=e?n:e).slice(0,7):e&&t?this._dd.makeStringFromDate(e<=n&&n<=t?n:e).slice(0,7):this._dd.makeStringFromDate(n).slice(0,7))},t.prototype._findByClassName=function(t,e,n){var r;return function(){var i,o,s,a;for(s=t.getElementsByTagName(n),a=[],i=0,o=s.length;i<o;i++)r=s[i],this._$$.hasClass(r,e)&&a.push(r);return a}.call(this)[0]},t.prototype._initEvents=function(){return this._$$.bindEvent(document.body,"click",function(t){return function(){return t._toggleMonths(!1)}}(this)),this._$$.bindEvent(this._options.container,"click",function(t){return function(e){return t._toggleMonths(!1),e.stopPropagation()}}(this)),this._$$.delegateEvent(this._options.container,"click",".prev",function(t){return function(e){return t._onClickNextPrev(e,"prev"),e.preventDefault()}}(this)),this._$$.delegateEvent(this._options.container,"click",".next",function(t){return function(e){return t._onClickNextPrev(e,"next"),e.preventDefault()}}(this)),this._$$.delegateEvent(this._options.container,"click",".month",function(t){return function(e){return t._onClickMonth(e),e.preventDefault()}}(this)),this._$$.delegateEvent(this._options.container,"click",".day",function(t){return function(e){return t._onClickDate(e),e.preventDefault()}}(this)),this._$$.delegateEvent(this._options.container,"click",".flexi-calendar td",function(t){return function(e){return t._onSelectFlexiDate(e),t._mediator.publish("whole-month-click"),e.preventDefault()}}(this)),this._$$.delegateEvent(this._options.container,"click",".cheapest_month",function(t){return function(e){return t._onSelectFlexiDate(e),t._mediator.publish("cheapest-month-click"),e.preventDefault()}}(this))},t.prototype._isNextBtnActive=function(){var t;return!this._options.maxDate||(t=this._dd.daysInMonth(this._dd.makeDateFromString(this._options.currentMonth+"-01")),this._dd.makeDateFromString(this._options.maxDate)>this._dd.makeDateFromString(this._options.currentMonth+"-"+t))},t.prototype._isPrevBtnActive=function(){return!this._options.minDate||this._dd.makeDateFromString(this._options.currentMonth+"-01")>this._dd.makeDateFromString(this._options.minDate)},t.prototype._getMonths=function(){var t,e,n,r,i;if(!this._options.minDate||!this._options.maxDate)return[];for(t=this._dd.diff("month",this._dd.makeDateFromString(this._options.maxDate),this._dd.makeDateFromString(this._options.minDate))+1,r=[],e=n=0,i=t;0<=i?n<i:n>i;e=0<=i?++n:--n)r.push(this._dd.makeStringFromDate(this._dd.add("month",this._dd.makeDateFromString(this._options.minDate.slice(0,7)+"-01"),e)).slice(0,7));return r},t.prototype._getTHeadWeekdays=function(){var t,e,n,r;for(r=[],e=this._options.firstDay,t=n=0;n<=6;t=++n)r.push({label:this._culture.weekdays[e],labelMicro:this._culture.weekdaysShort[e],className:0===e||6===e?"weekend":""}),e++,e===this._culture.weekdays.length&&(e=0);return r},t.prototype._getCellClassNames=function(t){var e,n,r,i,o,s,a,u,l,c,h;return i=t.getDay(),r=this._dd.makeStringFromDate(t),a=!!this._options.minDate&&t<this._dd.makeDateFromString(this._options.minDate),o=!!this._options.maxDate&&t>this._dd.makeDateFromString(this._options.maxDate),s=t>this._dd.add("day",this._dd.makeDateFromString(this._options.currentMonth+"-01"),this._dd.daysInMonth(this._dd.makeDateFromString(this._options.currentMonth+"-01"))-1),u=t<this._dd.makeDateFromString(this._options.currentMonth+"-01"),c=r===this._dd.makeStringFromDate(new Date),h=0===i||6===i,l=function(t){return function(){var e;if(t._options.selectedDate&&!a&&!o){if(e=t._options.selectedDate.split("-").length,3===e&&r===t._options.selectedDate)return!0;if(2===e&&r.slice(0,7)===t._options.selectedDate)return!0}return!1}}(this)(),n=[],l&&n.push("selected"),c&&n.push("today"),h&&n.push("weekend"),u&&n.push("prev-month"),s&&n.push("next-month"),a&&n.push("past"),o&&n.push("future"),(e=this.cellClasses[r])&&(a||o||u||s||n.push(e)),n},t.prototype._getTBodyDays=function(t){var e,n,r,i,o,s,a,u,l,c,h;for(this.days={},l=t?t:this._options.currentMonth.split("-"),h=l[0],u=l[1],s=new Date(Date.UTC.apply(null,[parseInt(h,10),parseInt(u-1,10),1])),
o=s.getDay()-this._options.firstDay,o<0&&(o+=7),i=this._dd.subtract("day",s,o),r=a=1,c=42;1<=c?a<=c:a>=c;r=1<=c?++a:--a)n=this._getCellClassNames(this._dd.makeDateFromString(this._dd.makeStringFromDate(i))),e=!(p.call(n,"past")>=0||p.call(n,"future")>=0),this.days["day_"+r]={data:this._dd.makeStringFromDate(i),className:n.join(" "),label:i.getDate(),title:e?this._culture.formatDay(i):""},this._dd.add("day",i,1);return this.days},t.prototype._onClickMonth=function(t){var e;return!!(e=this._$$.getAttr(t.currentTarget,"data-id"))&&this._updateCurrentMonth(e)},t.prototype._onChangeMonth=function(t){var e;return!!(e=this._$$.getVal(t.currentTarget))&&this._updateCurrentMonth(e)},t.prototype._updateCurrentMonth=function(t){var e;return this._options.currentMonth=t,e=(this._options.selectedDate||"").split("-").length,e>0&&e<3&&(this._options.selectedDate=this._options.currentMonth,this._mediator.publish("select-month",this._options.currentMonth)),this.render()},t.prototype._onClickDate=function(t){var e,n;return n=t.currentTarget,!this._$$.hasClass(n,"past")&&!this._$$.hasClass(n,"future")&&(!!(e=this._$$.getAttr(n,"data-id"))&&(this.selectDate(e),this._$$.hasClass(n,"directs-available")?this._mediator.publish("select-directs-available"):this._mediator.publish("select-no-directs")))},t.prototype._onSelectFlexiDate=function(t){var e,n;return n=t.currentTarget,!this._$$.hasClass(n,"past")&&!this._$$.hasClass(n,"future")&&(!!(e=this._$$.getAttr(n,"data-id"))&&this.selectDate(e))},t.prototype._onClickNextPrev=function(t,e){var n;return!this._$$.hasClass(t.currentTarget,"disable")&&(n=this._dd.makeDateFromString(this._options.currentMonth+"-01"),this._options.currentMonth=function(){switch(e){case"next":return this._dd.makeStringFromDate(this._dd.add("month",n,1)).slice(0,7);case"prev":return this._dd.makeStringFromDate(this._dd.subtract("month",n,1)).slice(0,7);default:return this._dd.makeStringFromDate(n).slice(0,7)}}.call(this),this._mediator.publish("next-prev",this._options.currentMonth),this.renderSpecificView())},t.prototype._toggleMonths=function(t){var e,n,r,i,o,s,a;if(r=this._options.container.getElementsByTagName("ul")[0],r&&(!this._monthsBusy||t)&&(this._monthsBusy=!0,this._$$[t?"removeClass":"addClass"](r,"datepicker_hidden"),o=function(){var t,e,i,o;for(i=r.getElementsByTagName("li"),o=[],t=0,e=i.length;t<e;t++)n=i[t],this._$$.hasClass(n,"selected")&&o.push(n);return o}.call(this)[0],setTimeout(function(t){return function(){return t._monthsBusy=!1}}(this),10),o&&t))return i=this._$$.hasClass(this._options.container,"dp")?-5:-10,this._$$.setCss(r,"top",i),s=o.getBoundingClientRect().top,e=this._options.container.getBoundingClientRect().top,a=-(s-e),this._$$.setCss(r,"top",a),r.getBoundingClientRect().top<0?this._$$.setCss(r,"top",-e+10):void 0},t.prototype.on=function(t,e){return this._mediator.subscribe(t,e),this},t.prototype.selectDate=function(t,e,n){var r;return null==e&&(e=!0),null==n&&(n=!0),t?(4===t.length&&(this._options.currentYear=t),t.length>4&&(this._options.currentMonth=t.slice(0,7)),this._options.selectedDate=t,r=(this._options.selectedDate||"").length<8,this._$$[r?"addClass":"removeClass"](this._options.container,"flexi-view"),e&&this.render(),n&&this._mediator.publish("select",t),this):this},t.prototype.applyCellClasses=function(t){return this.cellClasses=null!=t?t:{},this.render()},t.prototype.setMinDate=function(t){var e;if(t&&10===t.length)return e=t.slice(0,7),this._options.minDate=t,e>this._options.currentMonth&&(this._options.currentMonth=e),this.render(),this},t.prototype.getCurrentMonth=function(){return this._options.currentMonth},t.prototype.getMonthYearLabel=function(t){return this._culture.formatMonthYear(this._dd.makeDateFromString(t+"-01"))},t.prototype.getDateBoundaries=function(){return[this._options.minDate,this._options.maxDate]},t.prototype.setCulture=function(t){var e,n,r,i;r=this._culture;for(n in r)d.call(r,n)&&(i=r[n],(e=null!=t?t[n]:void 0)&&(this._culture[n]=e));return this},t.prototype.render=function(){return this._options.enableFlexibleOptions&&this._$$.hasClass(this._options.container,"flexi-view")?this.renderFlexibleView():this.renderSpecificView()},t.prototype._getTBodyForMonth=function(e){var n;return(n=t.template(u))({monthId:e,tbody:this._tbodyTmpl({days:this._getTBodyDays(e.split("-"))})})},t.prototype.renderFlexibleView=function(){var t,e,n;return this._$$.addClass(this._options.container,"flexi-view"),t=function(){var t,e,r,i;for(r=this._getMonths(),i=[],t=0,e=r.length;t<e;t++)n=r[t],i.push({id:n,label:this._culture.formatYearMonth(this._dd.makeDateFromString(n+"-01")),year:this._culture.formatYear(this._dd.makeDateFromString(n+"-01")),month:this._culture.formatMonth(this._dd.makeDateFromString(n+"-01"))});return i}.call(this),e=this._flexiCalTmpl({current:this._options.selectedDate,months:t,compare_months:this._culture.compare_months,cheapest_month:this._culture.cheapest_month,cheapestMonthSelected:4===(this._options.selectedDate||"").length}),this._options.container.innerHTML=e},t.prototype.renderSpecificView=function(){var e,n,r,i;return this._$$.addClass(this._options.container,"calendar"),this._$$.removeClass(this._options.container,"flexi-view"),n=t.template(o),i=t.template(a),r=n({current:this.getMonthYearLabel(this._options.currentMonth),prevActive:this._isPrevBtnActive(),nextActive:this._isNextBtnActive(),prev:"previous",next:"next",weekdays:this._getTHeadWeekdays()}),e=this._getTBodyForMonth(this._options.currentMonth),this._options.container.innerHTML=i({header:r,body:e}),this._mediator.publish("render"),this},t}()},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){var n,r,i,o,s,a,u,l,c,h,d,p,_,f,m,g,y={}.hasOwnProperty;n={day:"day",month:"month",year:"year",unknown:"unknown"},d={},d[""+n.day]=1,d[""+n.month]=2,d[""+n.year]=3,o=d,p={},p[""+n.day]=/^(\d{4})-(\d{2})-(\d{2})$/,p[""+n.month]=/^(\d{4})-(\d{2})$/,p[""+n.year]=/^(\d{4})$/,i=p,_={},_[""+n.day]="Date",_[""+n.month]="Month",_[""+n.year]="FullYear",a=_,c=function(t,e){var n,r;for(n in t)if(y.call(t,n)&&(r=t[n],r===e))return n},u=function(t,e){var n,r,o,s,a,u;return(a=i[e])&&(o=t.match(a))?(r=o[0],u=o[1],s=o[2],n=o[3],new Date(parseInt(u,10),parseInt(s||1,10)-1,parseInt(n||1,10))):null},m=function(t,e){var r,i,o,s;switch(o=t.match(/.{1,2}/g),s=o[0],i=o[1],r=o[2],s="20"+s,e){case n.day:return s+"-"+i+"-"+r;case n.month:return s+"-"+i;case n.year:return s;default:return null}},r=function(t,e){var r,i,o,s;switch(o=t.split("-"),s=o[0],i=o[1],r=o[2],s=s.substring(2),e){case n.day:return""+s+i+r;case n.month:return""+s+i;case n.year:return s;default:return null}},f=function(t){return t<10?"0"+t:""+t},l=function(t,e){var r,i,o;if(!t)return null;switch(o=""+t.getFullYear(),i=f(t.getMonth()+1),r=f(t.getDate()),e){case n.day:return o+"-"+i+"-"+r;case n.month:return o+"-"+i;case n.year:return o;default:return null}},g=function(t,e,r,i){var u,h,d,p;return null==r&&(r=1),null==i&&(i=a[n.day]),u="get"+i,d="set"+i,h=new Date(t),p=o[c(a,i)]>=o[e],h[u]&&h[d]&&p&&h[d](t[u]()+r),new s(l(h,e))},h=function(t){var e,o,s,a,c;null==t&&(t=l(new Date,n.day)),"[object Date]"===Object.prototype.toString.call(t)&&(t=l(t,n.day));for(s in i)if(a=i[s],a.test(t))return c=r(t,s),o=u(t,s),[s,t,c,o];return/^wholeyear$/i.test(t)?(e=""+(new Date).getFullYear(),c=r(e,n.year),o=u(e,n.year),[n.year,""+e,""+c,o]):[n.unknown,"","",null]},s=function(){function t(t){var e;e=h(t),this.dateType=e[0],this.dateString=e[1],this.shortDateString=e[2],this.dateObj=e[3]}return t.prototype.increment=function(t){return null==t&&(t=a[this.dateType]),g(this.dateObj,this.dateType,1,t)},t.prototype.decrement=function(t){return null==t&&(t=a[this.dateType]),g(this.dateObj,this.dateType,-1,t)},t.prototype.greaterThan=function(e){var n;return e instanceof t&&(n=Math.min(this.dateString.length,e.dateString.length),this.dateString.substring(0,n)>e.dateString.substring(0,n))},t.prototype.lessThan=function(e){var n;return e instanceof t&&(n=Math.min(this.dateString.length,e.dateString.length),this.dateString.substring(0,n)<e.dateString.substring(0,n))},t.prototype.isInThePast=function(){return this.lessThan(new t)},t.prototype.isTooFarInTheFuture=function(){var e;return e=new Date,e.setFullYear((new Date).getFullYear()+1),this.greaterThan(new t(l(e,this.dateType)))},t}(),s.DATE_TYPES=n,s.UNITS=a,t.exports=s}])})},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,i,o,s,a,u,l,c=function(t,e){return function(){return t.apply(e,arguments)}};r=n(1),s=function(){return r.getViewportWidth()<=500},u=function(){var t;return t=window.history&&"pushState"in window.history,t&&s()},a=function(){if(u())return window.history.pushState({popover:!0},"")},l=function(t,e){var n,r;return s()?(t.style.position="fixed",t.style.top=0,t.style.right=0,t.style.bottom=0,t.style.left=0):(r=e.getBoundingClientRect(),t.style.position="absolute",t.style.top=r.top+(window.pageYOffset||0)+e.offsetHeight+10+"px",t.style.right="",t.style.bottom="",n=r.left+(e.offsetWidth-t.offsetWidth)/2,n+t.offsetWidth>window.innerWidth&&(n=window.innerWidth-t.offsetWidth-10),t.style.left=(n<0?10:n)+"px")},o=function(t){var e,n,i,o,s,a,u,l,c;if(null==t&&(t={}),c=t.strings||{},l=t.hideCloseButton?"hidden":"",a="<header class='clearfix'>\n  <span class='popover-title'>"+c.titleText+"</span>\n  <button type='button' class='popover-hide'>"+c.hideText+"</button>\n</header>\n<div class='popover-content clearfix'>\n  <button type='button' class='popover-hide "+l+"'>"+c.hideText+"</button>\n</div>",n=r.createElement("div",{className:"popover hidden "+(t.customClass||""),innerHTML:a}),!(s=t.innerContent))return n;if(e=r.getElement(".popover-content",n),"string"==typeof s)e.innerHTML+=s;else if(s.length)for(o=0,u=s.length;o<u;o++)i=s[o],e.appendChild(i);else e.appendChild(s);return n},i=function(){function t(t){var e;this.popoverOptions=null!=t?t:{},this._onDocumentClick=c(this._onDocumentClick,this),this._onClick=c(this._onClick,this),this._onWindowResize=c(this._onWindowResize,this),(e=this.popoverOptions.relativeEl)&&(this.relativeEl=r.getElement(e)),this.el=o(this.popoverOptions),this._prevYOffset=null,r.addEventListener(window,"resize",this._onWindowResize),r.addEventListener(window,"popstate",function(t){return function(e){if(e.state&&e.state.popover)return t.hide()}}(this)),r.addEventListener(this.el,"click",this._onClick)}return t.prototype.show=function(t){var e;return null==t&&(t={}),this._appendToBody(),(e=t.relativeEl)&&(this.relativeEl=r.getElement(e)),r.removeClass(this.el,"hidden"),l(this.el,this.relativeEl),s()?this._freezeBodyScroll():this._releaseBodyScroll(),a(),this._normalizeFocus(),setTimeout(function(t){return function(){return r.addEventListener(document,"click",t._onDocumentClick)}}(this),0),{isMobile:s()}},t.prototype.hide=function(){return r.addClass(this.el,"hidden"),this._releaseBodyScroll(),r.removeEventListener(document,"click",this._onDocumentClick)},t.prototype._onWindowResize=function(){var t;if(!r.hasClass(this.el,"hidden"))return this.show(),"function"==typeof(t=this.popoverOptions).onWindowResize?t.onWindowResize({isMobile:s()}):void 0},t.prototype._onClick=function(t){if(r.hasClass(t.target||t.srcElement,"popover-hide"))return this.hide()},t.prototype._onDocumentClick=function(t){var e;if(!s()&&this.popoverOptions.autoHide&&(e=t.target||t.srcElement,e!==this.el&&!this.el.contains(e)&&e!==this.relativeEl))return this.hide()},t.prototype._normalizeFocus=function(){if(!r.childHasFocus(this.el)&&s())return document.activeElement.blur()},t.prototype._freezeBodyScroll=function(){return this._prevYOffset||(this._prevYOffset=window.pageYOffset),r.addClass(document.body,"popover-open")},t.prototype._releaseBodyScroll=function(){if(r.removeClass(document.body,"popover-open"),null!==this._prevYOffset)return window.scrollTo(0,this._prevYOffset),this._prevYOffset=null},t.prototype._appendToBody=function(){if(!this._appended)return document.body.appendChild(this.el)&&(this._appended=!0)},t}(),t.exports=i},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){var n,r,i,o,s,a,u,l,c,h,d,p={}.hasOwnProperty;s=function(t,e){return null==e&&(e=document),"string"==typeof t?e.querySelector(t):t||null},o=function(t,e){var n,r,i;null==e&&(e={}),n=document.createElement(t);for(r in e)p.call(e,r)&&(i=e[r],r in n?n[r]=i:n.setAttribute(r,i));return n},r=function(t,e,n){return t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,function(){return n.call(t,window.event)})},h=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n)},n=function(t,e){return t.classList?t.classList.add(e):t.className+=" "+e},c=function(t,e){return t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},l=function(t,e){return t.classList?t.classList.contains(e):RegExp("(^| )"+e+"( |$)","gi").test(t.className)},d=function(t,e){return l(t,e)?c(t,e):n(t,e)},i=function(t){var e;return t.contains(e=document.activeElement)||e===t},u=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},a=function(t,e,n){var r;return r=new XMLHttpRequest,r.open("GET",t,!0),r.onreadystatechange=function(){var t;if(4===this.readyState)return t=this.status>=200&&this.status<400,t?e(JSON.parse(this.responseText)):n(this.status)},r.send(),r=null},t.exports={getElement:s,createElement:o,addEventListener:r,removeEventListener:h,addClass:n,removeClass:c,hasClass:l,toggleClass:d,childHasFocus:i,getViewportWidth:u,getJSON:a}}])})}])})}])})}).call(e,n(3)(t))},function(t,e){t.exports=function(t,e){var n,r,i,o;i=(("undefined"!=typeof Skyscanner&&null!==Skyscanner&&null!=(r=Skyscanner.FSS)?r.translations:void 0)||{})[t]||t;for(n in e)o=e[n],i=i.replace(RegExp("@@"+n+"@@","g"),o);return i}},function(t,e,n){var r,i,o,s,a,u,l,c,h,d,p,f,m,g,y,v,b,D,w,C,S,k,x,T,M,E,F;k=n(7)("options"),c=function(t){var e,n;return null==t&&(t="fss"),(n="undefined"!=typeof Skyscanner&&null!==Skyscanner&&null!=(e=Skyscanner.Api)?e.localStorage:void 0)?n.init(t):{tryGetValue:function(){},trySetValue:function(){},tryDeleteValue:function(){}}},m=function(){var t;return t=c(),{trySetValue:function(e,n){return t.trySetValue(e,n,!1,!0)},tryGetValue:function(e){return t.tryGetValue(e,!1,!0)},tryDeleteValue:function(e){return t.tryDeleteValue(e,!1,!0)}}},h=function(t){return navigator[t]},a=function(t){var e;return null==t&&(t=h("userAgent")),e=t.toLowerCase().match(/android\s([0-9\.]*)/),(null!=e?e[1]:void 0)||null},v=function(t){return null==t&&(t=h("userAgent")),t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&t.indexOf("Chrome")===-1},D=function(t){var e;return null==t&&(t=h("userAgent")),e=$(window),/iPhone/i.test(t)&&/Safari/i.test(t)&&!/(CriOS|OPiOS|Chrome|Edge|Firefox|FxiOS)/i.test(t)&&(r(e)||i(e))},C=function(t){return null==t&&(t=h("userAgent")),(/iPhone/i.test(t)||/iPad/i.test(t))&&"Safari"===k.get("browserName")},b=function(){var t,e,n;return n=Skyscanner.Api.componentContext(),t=n.browserName,e=n.browserVersion,"internet explorer"===t.toLowerCase()&&"9"===e.substring(0,1)},w=function(){return D()&&r($(window))},S=function(){return navigator.onLine},r=function(t){return 414===t.height()&&90===Math.abs(t[0].orientation)},i=function(t){return 414===t.width()&&0===t[0].orientation},M=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},s=function(t){if(!M())return $(t).addClass("fss-no-touch")},l=function(){return $("#css-content").width()||NaN},g=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.substring(1):e},d=function(){return null!==E?{isVisible:"visible"===document[g(E,"visibilityState")],changeEventName:E+"visibilitychange"}:{isVisible:null,changeEventName:null}},F=function(){var t,e,n;t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},f=function(t){return null==t&&(t=""),_.chain(t.replace(/^\?/,"").split("&")).invoke("split","=").reduce(function(t,e){return e[0]?(t[(e[0]||"").toLowerCase()]=_.escape(decodeURIComponent(e[1])),t):t},{}).value()},p=function(t){return f(window.location.search)[t]||null},T=function(t,e){var n,r,i;if(null==t&&(t=""),null==e&&(e=[]),r=t.substring(0,t.indexOf("?")),i=t.substring(t.indexOf("?")+1),!r||!i)return t;n=f(i);try{_.forEach(e,function(t){return delete n[t]})}catch(t){}return""+r+(_.isEmpty(n)?"":"?"+$.param(n))},x=function(t){return document.location.href=t},o=function(t,e,n){return t?e&&n?t.indexOf("?")>=0?t.replace(/(\?[^#]+)/,"$1&"+e+"="+n):t.replace(/((\/)*[^#]*|(.*)$)/,"$1?"+e+"="+n):t:null},E=function(){var t,e,n,r;for(n=["","moz","ms","webkit"],t=0,e=n.length;t<e;t++)if(r=n[t],g(r,"hidden")in document)return r;return null}(),y=function(t,e){var n,r;return r=document.createElement("script"),r.type=t.type||"text/javascript",r.async=!0,e&&(r.onload=e),t.anonymous&&(r.crossOrigin="anonymous"),r.src=0===t.src.indexOf("//")||0===t.src.indexOf("http")?t.src:""+("https:"===document.location.protocol?"https://":"http://")+document.location.host+t.src,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(r,n)},u=function(t){var e;return null==t&&(t=""),(null!=(e=new Skyscanner.Common.Cookie(t))?e[0]:void 0)||null},t.exports={getLocalStorage:c,getSessionStorage:m,getNavigator:h,isAndroid:v,getAndroidVersion:a,isIphoneSixPlus:D,isIphoneSixPlusLandscape:w,isMobileSafari:C,isIe9:b,isOnline:S,supportsTouch:M,allowMouseEvents:s,getCssMaxWidth:l,getPageVisibility:d,whichTransitionEvent:F,getQueryStringParams:f,getQueryStringParam:p,addQueryStringParam:o,removeURLParams:T,redirect:x,injectScript:y,getCookieValue:u}},function(t,e,n){var r,i;r=n(8),i={},t.exports=function(t){return i[t]||(i[t]=new r)}},function(t,e){t.exports=function(){function t(){this.data={}}return t.prototype.get=function(t,e){var n,r,i,o,s;for(s=this.data,o=t.split("."),n=0,r=o.length;n<r;n++){if(i=o[n],!(_.isObject(s)&&i in s))return e;s=s[i]}return s},t.prototype.set=function(t,e){var n,r,i,o,s,a,u;for(s=t.split("."),o=s.length,u=this.data,r=n=0,i=s.length;n<i;r=++n)a=s[r],r===o-1&&(u[a]=e),u=a in u?u[a]:u[a]={};return this},t.prototype.has=function(t){var e;return e=this.get(t),void 0!==e&&null!==e},t.prototype.setStorage=function(t){return this.data=t},t.prototype.getStorage=function(){return this.data},t}()},function(module,exports,__webpack_require__){var translate=__webpack_require__(5);module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<button type="button" class="search-summary-button"><span class="visually-hidden">'+(null==(__t=translate("ktxtSearchControls_ChangeSearch"))?"":__t)+'</span></button><div class="search-summary-main ',shouldShowInboundDate&&(__p+="return"),__p+='"><div class="search-summary-places ',isMultiDestination&&(__p+="multi-destination"),__p+='"><h2>'+(null==(__t=originLeg.name)?"":__t)+(null==(__t=originLeg.region?", "+originLeg.region:"")?"":__t)+" ("+(null==(__t=originLeg.isCityLevel?translate("ktxtSearchControls_as_any"):originLeg.code)?"":__t)+')<span class="visually-hidden">'+(null==(__t=translate("ktxtSearchSummary_URLSearchTerm_To"))?"":__t)+'</span><span aria-hidden="true">&nbsp;-&nbsp;</span>',__p+=destinationLeg.code?""+(null==(__t=destinationLeg.name)?"":__t)+(null==(__t=destinationLeg.region?", "+destinationLeg.region:"")?"":__t)+" ("+(null==(__t=destinationLeg.isCityLevel?translate("ktxtSearchControls_as_any"):destinationLeg.code)?"":__t)+")":""+(null==(__t=translate("ktxtSearchControls_as_everywhere"))?"":__t)+" ("+(null==(__t=translate("ktxtSearchControls_any_dest_sm"))?"":__t),__p+="</h2><p>"+(null==(__t=noOfLegs)?"":__t)+" "+(null==(__t=translate("ktxtSearchControls_MultiDestinationFlights_Plural"))?"":__t)+'</p></div><p class="search-summary-info">',showDateNudgers||(__p+='<span class="dates">'+(null==(__t=originLeg.formattedDate)?"":__t),shouldShowInboundDate&&(__p+=" - "+(null==(__t=destinationLeg.formattedDate)?"":__t)),__p+="</span>"),__p+='<span class="travellers">',__p+=travellers>1?"<span>"+(null==(__t=travellers)?"":__t)+" "+(null==(__t=translate("ktxtSearchControls_Travellers_Plural"))?"":__t)+"</span>":"<span>1 "+(null==(__t=translate("ktxtSearchControls_AdultsSingular"))?"":__t)+"</span>",__p+="</span>"+(null==(__t=cabinClass)?"":__t)+"</p></div>",showDateNudgers&&(__p+='<nav class="search-summary-date-nudgers clearfix ',shouldShowInboundDate&&(__p+="return"),__p+='"><div class="search-summary-date-nudger outbound clearfix"><button class="prev" data-date="'+(null==(__t=nudgerDates.outboundPrev)?"":__t)+'" ',nudgerDates.outboundPrev||(__p+="disabled"),__p+='><span class="visually-hidden">'+(null==(__t=translate("ktxtSearchSummary_DayViewResults_Prev"))?"":__t)+'</span></button><span class="date">'+(null==(__t=originLeg.formattedDate)?"":__t)+'</span><button class="next" data-date="'+(null==(__t=nudgerDates.outboundNext)?"":__t)+'" ',nudgerDates.outboundNext||(__p+="disabled"),__p+='><span class="visually-hidden">'+(null==(__t=translate("ktxtSearchSummary_DayViewResults_Next"))?"":__t)+"</span></button></div>",shouldShowInboundDate&&(__p+='<div class="search-summary-date-nudger inbound clearfix"><button class="prev"data-date="'+(null==(__t=nudgerDates.inboundPrev)?"":__t)+'" ',nudgerDates.inboundPrev||(__p+="disabled"),__p+='><span class="visually-hidden">'+(null==(__t=translate("ktxtSearchSummary_DayViewResults_Prev"))?"":__t)+'</span></button><span class="date">'+(null==(__t=destinationLeg.formattedDate)?"":__t)+'</span><button class="next" data-date="'+(null==(__t=nudgerDates.inboundNext)?"":__t)+'" ',nudgerDates.inboundNext||(__p+="disabled"),__p+='><span class="visually-hidden">'+(null==(__t=translate("ktxtSearchSummary_DayViewResults_Next"))?"":__t)+"</span></button></div>"),__p+="</nav>"),__p+="";return __p}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(11),u=r(a),l=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.set("ignore_prefer_direct",!1),t}return s(e,t),e}(u.default);e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(8),l=r(u),c=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.data=_.assign({},_.result(t,"defaults")),t.cid=_.uniqueId("model_"),t.id=null,t}return s(e,t),a(e,[{key:"build",value:function(t){return _.has(t,"id")&&(this.id=t.id),_.assign(this.data,t),this}}]),e}(l.default);_.forEach(["keys","values","pairs","invert","pick","omit","chain","isEmpty"],function(t){c.prototype[t]=function(){var e;return(e=_)[t].apply(e,[this.data].concat(Array.prototype.slice.call(arguments)))}}),e.default=c}]);