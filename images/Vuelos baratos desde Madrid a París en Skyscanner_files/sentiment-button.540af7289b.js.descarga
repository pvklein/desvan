function sentiment(a,b){var c=a&&a.remoteConfiguration&&a.remoteConfiguration.Hyena,d=c&&a.remoteConfiguration.Hyena.SentimentButtonShow,e=c&&a.remoteConfiguration.Hyena.SentimentButtonPositionLeft;if(d){var f=$("<style type='text/css'></style>").appendTo("head"),g=function(a,b){var c=a.selector+"{";if(a.childSelector)c+=g(a.childSelector,b);else for(var d in b)b.hasOwnProperty(d)&&(c+=d+": "+b[d]+";");return c+="}"},h=function(a,b){var c=$("<"+a+">").css(b.css).addClass(b.class);for(var d in b.attributes)b.attributes.hasOwnProperty(d)&&c.attr(d,b.attributes[d]);return c},i=function(b,c){c=c||{},a.observer.publish("tracking-event",{mixpanel:[{name:b,props:c}]})};sentimentStyleObject={opacity:"0.3",filter:"alpha(opacity=30)","-webkit-transition":"all 300ms","-moz-transition":"all 300ms","-o-transition":"all 300ms",transition:"all 300ms"},sentimentMediaQueryObject={selector:"@media (max-width: 350px), (max-height: 400px)",childSelector:{selector:"#sentiment-tracking"}},f.append(g({selector:".sentiment-option-opacity"},sentimentStyleObject)),f.append(g(sentimentMediaQueryObject,{display:"none"}));var j={position:"fixed",zIndex:"999",bottom:"10px"},k="right",l={opacity:"toggle"},m={opacity:"hide"};e?(k="left",l.right="toggle",m.right="hide"):(l.left="toggle",m.left="hide"),j[k]="10px";var n=h("div",{css:j,attributes:{id:"sentiment-tracking"}}),o={width:"52px",height:"52px",padding:"3px",cursor:"pointer",outline:"none",filter:"drop-shadow(0px 3px 5px rgba(37,32,51,.4))","-webkit-filter":"drop-shadow(0px 3px 5px rgba(37,32,51,.4))"},p={width:"52px",height:"52px",padding:"3px",cursor:"pointer",outline:"none",margin:"0",display:"none",filter:"drop-shadow(0px 3px 5px rgba(37,32,51,.4))","-webkit-filter":"drop-shadow(0px 3px 5px rgba(37,32,51,.4))"},q={class:"sentiment-button sentiment-trigger sentiment-option",css:o,attributes:{type:"image",id:"sentiment-trigger","data-rating":5,src:"https://content.skyscnr.com/2bb11753ec2818da685ab9169cff232d/sentiment-button-rating-5.svg"}},r=h("input",q),s=["https://content.skyscnr.com/81db5550e5369c40931c76eebcd49115/sentiment-button-rating-1.svg","https://content.skyscnr.com/033986c715f1f01b9a208d41ebd95f58/sentiment-button-rating-2.svg","https://content.skyscnr.com/60454e9308dcca539e6718ebff1482c5/sentiment-button-rating-3.svg","https://content.skyscnr.com/e02d3e53d4aeededa909a3a33b6d6df3/sentiment-button-rating-4.svg"],t=0,u=1;e&&(t=s.length-1,u=-1);for(var v={class:"sentiment-button sentiment-slider",css:p,attributes:{type:"image",id:"sentiment-close",src:"https://content.skyscnr.com/8df1a6d7cb6245302919c99bb6b9dfe5/sentiment-button-close.svg"}},w=h("input",v),x=0;x<s.length;x++){var y={class:"sentiment-button sentiment-option sentiment-slider",css:p,attributes:{type:"image",id:"sentiment-button-"+(t+1),src:s[t],"data-rating":t+1}};n.append(h("input",y)),t+=u}e?(n.prepend(r),n.append(w)):(n.prepend(w),n.append(r));var z=$("<p>How are you finding Skyscanner?</p>").css({display:"inline-block",position:"relative",padding:"5px 15px",backgroundColor:"white",webkitBorderRadius:"3px",mozBorderRadius:"3px",borderRadius:"3px"}),A=$("<div></div>").attr("id","sentiment-label").css({textAlign:"center",display:"none"}).append(z);n.prepend(A),b.append(n),i("Flights SentimentTracking WidgetVisible");var B=$(".sentiment-slider"),C=$(".sentiment-button");C.click(function(a){a.stopPropagation(),$(this).hasClass("sentiment-trigger")?(B.animate(l,300),A.animate(l,300),r.removeClass("sentiment-trigger"),i("Flights SentimentTracking TriggerClicked")):"sentiment-close"==$(this).attr("id")?(r.addClass("sentiment-trigger"),B.animate(m,300),A.animate(m,300),i("Flights SentimentTracking DismissedClose")):(i("Flights SentimentTracking Submitted",{rating:$(this).attr("data-rating")}),C.animate(m,300),A.animate(m,300))}).hover(function(){B.is(":visible")&&"sentiment-close"!=$(this).attr("id")&&($(this).removeClass("sentiment-option-opacity").removeClass("sentiment-option"),$(".sentiment-option").addClass("sentiment-option-opacity"),$(this).addClass("sentiment-option"))},function(a){$(a.relatedTarget).hasClass("sentiment-option")||$(".sentiment-option").removeClass("sentiment-option-opacity")}),b.on("touchmove click",function(a){B.is(":visible")&&(r.removeClass("sentiment-option-opacity").addClass("sentiment-trigger"),$(".sentiment-option").removeClass("sentiment-option-opacity"),B.animate(m,300),A.animate(m,300),i("Flights SentimentTracking DismissedWindow"))})}}Skyscanner.namespace("Skyscanner.tags.sentimentButton").process=sentiment,window.addLoadEventHandler(function(){Skyscanner.tags.sentimentButton.process(window.utag_data,$("body"))});