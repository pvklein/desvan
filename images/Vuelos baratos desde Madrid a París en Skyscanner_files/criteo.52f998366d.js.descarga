(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};if(a=function(){function a(a){a&&a.subscribe("criteo-event",function(a){return function(b){return a.onCriteoEvent(b)}}(this))}return a.prototype.onCriteoEvent=function(a){var b,c;if(null==a&&(a={}),b=a.item||{},!a.event)throw"event required";if(!a.id)throw"id required";return c={event:a.event,id:a.id,new_customer:a.new_customer||1,deduplication:a.deduplication||0,item:a.item||[]},window.criteo_q&&window.criteo_q.push(c)},a}(),Skyscanner.namespace("Skyscanner.tags").CriteoEventListener=a,addLoadEventHandler(function(){var b;return b=Skyscanner.Common&&Skyscanner.Common.observer?Skyscanner.Common.observer:null,new a(b)}),r={AU:9736,DE:7450,DK:7459,ES:7447,FI:17297,FR:3491,IE:17933,IN:13082,IT:7448,JP:13710,NL:7449,NO:7458,NZ:18568,PL:18572,RU:7446,SE:3686,TR:7444,UK:2936,AT:18942,CZ:18943,GR:18944,US:18945,PT:18947,CH:18948,SG:14979,HK:16133,MY:14976,TH:13734,TW:16134,ID:21464,KR:21463,CA:13385},f={AU:24198,KR:21721,HK:21720,TW:21722,UK:14030,US:14031,FR:14026,IT:22956,RU:14029},s=["AU","KR","HK","TW","US","UK","IT","FR","RU"],t=["AU","KR","HK","TW"],l=function(a){if(a)return"true"===(a.IsReturn||"").toLowerCase()?"0":"1"},m=function(a){if(a)return a.originId+"_"+a.destinationId},n=function(a){var b,c;return b="d",a&&a.contextValue?(c=a.contextValue("deviceType"),"mobile"===c?"m":"desktop"===c?"d":"tablet"===c?"t":b):b},x=function(a){var b;return b={event:"setSiteType",type:n(a)}},w=function(a){var b;return b={event:"setAccount",account:a}},A=function(a,b){var c;return c={event:"viewItem",account:f[a.market],item:a.TransportSearch.Inbound.Airport,din:a.TransportSearch.Dates.Inbound,dout:a.TransportSearch.Dates.Outbound,place:"flightconversion"}},z=function(a,b){var c;return c={event:"trackTransaction",account:r[a.market],id:a.Redirect.redirectId,item:[{id:a.TransportSearch.Outbound.Airport+"_"+a.TransportSearch.Inbound.Airport,price:a.Redirect.value||1,quantity:1}]}},y=function(a,b,c,d){var e,f;return e=g(b.Dates),f={event:"trackTransaction",id:c,din:e.pickupDate,dout:e.dropOffDate,tin:e.pickupTime,tout:e.dropOffTime,item:[{id:""+a,price:d||1,quantity:1}]}},j=function(a){var b,c;return c=new Date(a).toISOString(),b=c.substr(0,10)},B=function(a){var b,c;return c=new Date(a).toISOString(),b=c.indexOf("T"),c.substr(b+1,5)},g=function(a){return{pickupDate:j(a.PickUp),pickupTime:B(a.PickUp),dropOffDate:j(a.Dropoff),dropOffTime:B(a.Dropoff)}},Skyscanner.namespace("Skyscanner.tags").Criteo=function(){function a(){}return a.prototype.process=function(a,b,c){var d,e,f,g;if(!a)throw"utag_data required";return d=$.extend({},a),f=l(d.TransportSearch),void 0!==f&&(d.criteo_nc=f),g=d.TransportSearch,e=m(c),void 0!==e&&(d.combo_OutInCode=e),void 0!==c&&(void 0!==c.destinationId&&(d.destinationId=c.destinationId),d.pickUpIataCodeCarHire=c.pickUpIataCodeCarHire?c.pickUpIataCodeCarHire:0,d.dropOffIataCodeCarHire=c.dropOffIataCodeCarHire?c.dropOffIataCodeCarHire:0),d},a.prototype.getEvents=function(a,b,c,d,e,g){var h,i,j,k,l,m,n;return null==b&&(b=""),n=b.toLowerCase(),i=[],i.push(x(g)),"redir"!==b&&i.push(w(r[a.market])),"home"===n&&i.push({event:"viewHome"}),"day-view"!==n&&"month"!==n&&"browse"!==n||i.push({event:"viewItem",item:a.combo_OutInCode}),"day-view"===n&&i.push({event:"viewSearch",checkin_date:a.TransportSearch.Dates.Outbound,checkout_date:a.TransportSearch.Dates.Inbound}),"redir"===n&&(j=c.market.toUpperCase(),m={},"carhire"===a.category&&C.call(s,j)>=0?(l=c.pickUpIataCodeCarHire,k="unknown"!==l?l:c.pickUpCityCodeCarHire,i.push(w(f[a.market])),i.push(y(k,a.CarHire,a.Redirect.redirectId,a.Redirect.value))):"transport"===a.category&&C.call(s,j)>=0?(C.call(t,j)>=0&&i.push(A(a,c)),i.push(z(a,c))):(m={event:"trackTransaction",account:d,id:a.Redirect.redirectId,new_customer:a.criteo_nc,item:[{id:a.combo_OutInCode,price:a.Redirect.value,quantity:1}]},i.push(m)),"uk"===(a.market||"").toLowerCase()&&"transport"===a.category&&(h=4748,i.push({event:"viewItem",account:h,user_segment:2,nbrp:1,item:a.TransportSearch.Inbound.City}),i.push({event:"manualDising"}),i.push({event:"callDising",account:h}))),null!=e&&i.push({event:"setHashedEmail",m:e,hash_method:"s2m"}),i},a.prototype.disabled=function(a,b){var c;return!(!a||!b)&&(c=b.queryParameters()||{},"ES"===a.market&&"affiliate"===c.utm_medium)},a}(),h=new window.Skyscanner.tags.Criteo,d=window.utag_data||{},!h.disabled(d,window.Skyscanner.Api)){for(c=window.Skyscanner.ComponentContext,b=Skyscanner.Api,u=d.page,i=h.process(d,$("body"),c,u),window.Skyscanner.Api?(e=window.Skyscanner.Api.localStorage.init("auth-storage"),o=e.tryGetValue("emhash",!1,!0)):o=null,v=h.getEvents(i,u,c,""+r[c.market.toUpperCase()],o,b),window.criteo_q=window.criteo_q||[],p=0,q=v.length;p<q;p++)k=v[p],window.criteo_q.push(k);injectScript("//static.criteo.net/js/ld/ld.js")}}).call(this);